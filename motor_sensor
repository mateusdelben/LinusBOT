#include <PETEletrica.h>
float valref = 2000 , kp = 0.0473, velconst = 130;
int IN1 = 6, IN2 = 5, IN3 = 9, IN4 = 10; 
float a0, a1, a2, a3, a4;
float u, erro;
Motores motor(IN4, IN3, IN2, IN1);

SensorInfravermelhoRC qtr((unsigned char[]){ A0, A1, A2, A3, A4 }, 5, 2000, QTR_NO_EMITTER_PIN);
unsigned int sensores[5];

void setup() {
 
  Serial.begin(9600);
  for (int i = 0; i < 100; i++) {
    qtr.calibrate();
    delay(10);
  }
}

void loop() {
 
  unsigned int position = qtr.readLine(sensores);

  Serial.println(position);

  erro = valref - position ;
  u = kp * erro;

  motor.set_motors (u + velconst , u - velconst );
  
  
}
